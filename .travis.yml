# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: R
sudo: required
cache: packages

before_install:
  - (while true; do echo 'Ping? Pong!'; sleep 500; done) &
  - sudo apt-get update -yq
  - sudo sh -c "echo ttf-mscorefonts-installer msttcorefonts/accepted-mscorefonts-eula select true | debconf-set-selections"
  - sudo apt-get install msttcorefonts -qq
  - sudo apt-get update

addons:
  apt:
    update: true
    sources:
      - sourceline: 'ppa:opencpu/imagemagick'
    packages:
      - cargo

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/57f01f1de967cd49d340
    on_success: change
    on_failure: always
    on_start: never

after_success:
    - Rscript -e 'covr::codecov()'
