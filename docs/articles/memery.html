<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to memery • memery</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46129458-3', 'auto');
  ga('send', 'pageview');

</script>
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">memery</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/memery.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Online
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/leonawicz">
        <span class="fa fa-github fa-lg"></span>
         
        GitHub
      </a>
    </li>
    <li>
      <a href="https://twitter.com/leonawicz">
        <span class="fa fa-twitter fa-lg"></span>
         
        Twitter
      </a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/leonawicz">
        <span class="fa fa-linkedin fa-lg"></span>
         
        LinkedIn
      </a>
    </li>
    <li>
      <a href="https://www.youtube.com/user/StatisticsWithR">
        <span class="fa fa-youtube fa-lg"></span>
         
        YouTube
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/+StatisticsWithR/posts">
        <span class="fa fa-google-plus fa-lg"></span>
         
        Google+
      </a>
    </li>
    <li>
      <a href="https://leonawicz.github.io/blog/">
        <span class="fa fa-pencil-square-o fa-lg"></span>
         
        Blog
      </a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/leonawicz/memery">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to memery</h1>
                        <h4 class="author">Matthew Leonawicz</h4>
            
            <h4 class="date">2017-11-04</h4>
          </div>

    
    
<div class="contents">
<p>The <code>memery</code> package is used for generating internet memes suited specifically to data analysts. This vignette covers the basic usage of <code>memery</code> with several examples.</p>
<div id="the-meme" class="section level2">
<h2 class="hasAnchor">
<a href="#the-meme" class="anchor"></a>The meme</h2>
<p>This consists of the background image and overlying text label(s). The image can be provided as a path to a local file or a URL. Below are examples of each, mixing up combinations of source file and output file format. Note that <code>memery</code> also provides the classic meme font, Impact, as the default as well as the text shadow outline effect, which is available for any font you use.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(memery)
loc &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"philosoraptor.jpg"</span>, <span class="dt">package =</span> <span class="st">"memery"</span>)
web &lt;-<span class="st"> "https://imgflip.com/s/meme/Philosoraptor.jpg"</span>
lab &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"What to call my R package?"</span>, <span class="st">"Perhaps..."</span>)
<span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab[<span class="dv">1</span>], <span class="st">"meme1.jpg"</span>, <span class="dt">size =</span> <span class="fl">0.75</span>)
<span class="kw"><a href="../reference/meme.html">meme</a></span>(web, lab[<span class="dv">1</span>], <span class="st">"meme1.png"</span>, <span class="dt">size =</span> <span class="fl">0.75</span>)</code></pre></div>
<p style="text-align:center;">
<img src="meme1.jpg"></p>
<p>There is sensible default label placement. If <code>label</code> is a vector of length two, <code>meme</code> will make a symmetrical top and bottom title/subtitle pair of text labels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab, <span class="st">"meme2.jpg"</span>, <span class="dt">size =</span> <span class="fl">0.75</span>)</code></pre></div>
<p style="text-align:center;">
<img src="meme2.jpg"></p>
<p>This is done using the default <code>lab_pos</code> argument, which calls <code>text_position</code>. This convenience function is only useful for one or two text labels. <code>meme</code> allows you to place an arbitrary number of labels on the plot with arbitrary positioning by passing your own list to <code>lab_pos</code> where each list element is the same length as <code>label</code>. You can see what to do by looking at the output of <code>text_position</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/text_position.html">text_position</a></span>(<span class="dt">n =</span> <span class="dv">2</span>)
<span class="co">#&gt; $w</span>
<span class="co">#&gt; [1] 0.9 0.9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $h</span>
<span class="co">#&gt; [1] 0.3 0.3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $x</span>
<span class="co">#&gt; [1] 0.5 0.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $y</span>
<span class="co">#&gt; [1] 0.9 0.1</span></code></pre></div>
<p>The label and shadow color can be controlled by <code>col</code> and <code>shadow</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clrs &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"orange"</span>, <span class="st">"white"</span>)
<span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab, <span class="st">"meme3.jpg"</span>, <span class="dt">size =</span> <span class="fl">0.75</span>, <span class="dt">col =</span> clrs[<span class="dv">1</span>], <span class="dt">shadow =</span> clrs[<span class="dv">2</span>])</code></pre></div>
<p style="text-align:center;">
<img src="meme3.jpg"></p>
<p>The arguments <code>width</code> and <code>height</code> do not need to be provided. If missing, they are inferred from the dimensions of <code>img</code>. However, providing <code>width</code> and <code>height</code> overrides the source file dimension. This is useful for large source images. Whether or not <code>width</code> or <code>height</code> are provided, <code>mult</code> can also be used as an image dimensions multiplier. See below for details.</p>
<div id="more-about-labels-and-fonts" class="section level3">
<h3 class="hasAnchor">
<a href="#more-about-labels-and-fonts" class="anchor"></a>More about labels and fonts</h3>
<p>Regarding <code>size</code>, while the default is set to <span class="math inline">\(1\)</span>, this is rather arbitrary. There is really no perfect default because the ideal size depends on several factors including the text string length, font family, and the output file dimensions, as well as subjective taste such as how much of the image width should the text cover, whether it will display with insufficient or excessive height, or whether it will block the view of important areas of the meme image. It makes sense to explicitly supply <code>size</code> for every meme. Note that, all else being equal, in general if you use an image scaled to, say, twice the width and height of another, doubling <code>size</code> will retain proportional label width coverage, but then height coverage will change. Text may also display slightly differently in png vs. jpg output files.</p>
<p>Avoid using <code>mult</code> to <em>increase</em> your image size as it will expand the shadow effect. Use a larger source image instead. <code>mult</code> is best for multipliers less than one, used to shrink an image. For example, a picture taken with your phone may have dimensions well in excess of what you need for a meme and it will be more efficient to produce a smaller output file. <code>width</code> and <code>height</code> are useful when you need to change the canvas size. These will not alter the aspect ratio. These will all affect the displayed label size in so much as it relates to the image dimensions.</p>
<p>On package load, <code>memery</code> only imports the Impact font via <code><a href="http://www.rdocumentation.org/packages/extrafont/topics/font_import">extrafont::font_import</a></code>. If you wish to use other fonts from that package, you need to import them first. See the <code>extrafont</code> help documentation for details. On Windows, for jpg outputs you may find that you also then need to call <code><a href="http://www.rdocumentation.org/packages/extrafont/topics/loadfonts">extrafont::loadfonts("win")</a></code> to make fonts available to the <code>jpeg</code> device. Again, <code>memery</code> only sets this up for you on package load for the Impact font to make the standard font readily available while avoiding a long load time importing fonts you do not need.</p>
</div>
</div>
<div id="optional-plot-overlay" class="section level2">
<h2 class="hasAnchor">
<a href="#optional-plot-overlay" class="anchor"></a>Optional plot overlay</h2>
<p>In addition to drawing text labels on top of the background image, <code>meme</code> offers the ability to overlay an inset plot, a plot within the meme plot. This could be a thumbnail inset appearing in a corner of the plot. For example, it could be a logo. But generally speaking, this kind of behavior is directly accessible using the <code>grid</code> framework and <code>memery</code> does not attempt to duplicate this generality. Instead, it expects the <code>inset</code> argument to be any ggplot object; `inset is not for reading in a second image file. It is meant to be a plot.</p>
<p>By default, a ggplot object passed to <code>meme</code> via <code>inset</code> will take up approximately the lower two thirds of the plot and the full with, accounting for some margin space. It has a semi-transparent background so that it does not completely obscure the meme background image. These settings, background color, transparency, size and position, can all be specified in the call to <code>meme</code> as the following examples demonstrate.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)
d &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">x =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">2</span> *<span class="st"> </span>pi, <span class="dt">length.out =</span> <span class="dv">50</span>), <span class="dt">y =</span> <span class="kw">sin</span>(x))
panels &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">"Philosoraptor's plot"</span>, <span class="kw">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>))
d &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(d, d) %&gt;%<span class="st"> </span><span class="kw">mutate</span>(<span class="dt">grp =</span> <span class="kw">rep</span>(panels, <span class="dt">each =</span> <span class="dv">50</span>))
txt &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Philosoraptor's plots"</span>, <span class="st">"I like to make plots"</span>, <span class="st">"Figure 1. (A) shows a plot and (B) shows another plot."</span>)
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(d, <span class="kw">aes</span>(x, y)) +<span class="st"> </span><span class="kw">geom_line</span>(<span class="dt">colour =</span> <span class="st">"cornflowerblue"</span>, <span class="dt">size =</span> <span class="dv">2</span>) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">colour =</span> <span class="st">"orange"</span>, <span class="dt">size =</span> <span class="dv">4</span>) +<span class="st"> </span><span class="kw">facet_wrap</span>(~grp) +<span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> txt[<span class="dv">1</span>], 
    <span class="dt">subtitle =</span> txt[<span class="dv">2</span>], <span class="dt">caption =</span> txt[<span class="dv">3</span>])

<span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab, <span class="st">"meme4a.jpg"</span>, <span class="dt">size =</span> <span class="fl">0.75</span>, <span class="dt">inset =</span> p)</code></pre></div>
<p style="text-align:center;">
<img src="meme4a.jpg"></p>
<p>Note the default semi-transparent background that allows the meme image to show through when the inset has a large coverage area. The style includes rounded corners. This is from the <code>grid</code> package. It is a rectangle layer in the same viewport as <code>p</code>; it is not part of the ggplot theme. The latter is separate and can be controlled by passing your own theme to <code>ggtheme</code> or setting this to NULL, which falls back on whatever theme is set for your plot <code>p</code>. The default theme for meme plots comes from <code>memetheme</code>.</p>
<p>Since the philosoraptor image is a bit small, it is enlarged below when including the inset plot again. The default <code>size = 1</code> is used here. For now, drop the second text label. It will be relocated later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab[<span class="dv">1</span>], <span class="st">"meme4b.jpg"</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, <span class="dt">inset =</span> p, <span class="dt">mult =</span> <span class="dv">2</span>)</code></pre></div>
<p style="text-align:center;">
<img src="meme4b.jpg"></p>
<p>Below is an example where the background panel is set to another semi-transparent color and the border color is no longer transparent.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vp_bg &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">fill =</span> <span class="st">"#FF00FF50"</span>, <span class="dt">col =</span> <span class="st">"#FFFFFF75"</span>)
<span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab[<span class="dv">1</span>], <span class="st">"meme4c.jpg"</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, <span class="dt">inset =</span> p, <span class="dt">inset_bg =</span> vp_bg, <span class="dt">mult =</span> <span class="dv">2</span>)</code></pre></div>
<p style="text-align:center;">
<img src="meme4c.jpg"></p>
<p>You can also increase the radius of the rounded corners, with, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list</span>(<span class="dt">r =</span> <span class="kw">unit</span>(<span class="fl">0.1</span>, <span class="st">"snpc"</span>))</code></pre></div>
<p>Setting to zero will remove the rounding.</p>
</div>
<div id="multiple-labels-and-vector-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-labels-and-vector-arguments" class="anchor"></a>Multiple labels and vector arguments</h2>
<p>As shown, more than one text label can be drawn on the meme plot and assigned a different position. Other arguments are correspondingly vectorized. Each label can have unique text size, font family, font color, shadow color, and position arguments. Whereas the length of elements in <code>label_pos</code> must match the length of <code>label</code>, these other arguments are recycled if not as long as <code>label</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lab[<span class="dv">2</span>:<span class="dv">3</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"Perhaps raptr... NO!!!"</span>, <span class="st">"Pfft. Figures."</span>)
lab_pos &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">w =</span> <span class="kw">rep</span>(<span class="fl">0.9</span>, <span class="dv">3</span>), <span class="dt">h =</span> <span class="kw">rep</span>(<span class="fl">0.3</span>, <span class="dv">3</span>), <span class="dt">x =</span> <span class="kw">rep</span>(<span class="fl">0.5</span>, <span class="dv">3</span>), <span class="dt">y =</span> <span class="kw">c</span>(<span class="fl">0.95</span>, 
    <span class="fl">0.85</span>, <span class="fl">0.3</span>))
<span class="kw"><a href="../reference/meme.html">meme</a></span>(loc, lab, <span class="st">"meme5.jpg"</span>, <span class="dt">size =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>), <span class="dt">family =</span> <span class="kw">c</span>(<span class="st">"Times"</span>, <span class="st">"Impact"</span>, 
    <span class="st">"Impact"</span>), <span class="dt">col =</span> clrs, <span class="dt">shadow =</span> <span class="kw">rev</span>(clrs), <span class="dt">label_pos =</span> lab_pos, <span class="dt">inset =</span> p, 
    <span class="dt">mult =</span> <span class="dv">2</span>)</code></pre></div>
<p style="text-align:center;">
<img src="meme5.jpg"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-meme">The meme</a></li>
      <li><a href="#optional-plot-overlay">Optional plot overlay</a></li>
      <li><a href="#multiple-labels-and-vector-arguments">Multiple labels and vector arguments</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://leonawicz.github.io/">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
